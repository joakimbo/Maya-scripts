import pymel.core as pm

selectedObjects = pm.ls ( selection=True )
nmbrOfJoints = 0
for obj in selectedObjects:
    if pm.nodeType(obj) == 'joint':
        # Get "Rotate" values
        rotX = pm.getAttr(obj + '.rotateX')
        rotY = pm.getAttr(obj + '.rotateY')
        rotZ = pm.getAttr(obj + '.rotateZ')
        
        # Copy "Rotate" values to JointOrient
        pm.setAttr(obj + '.jointOrientX', rotX)
        pm.setAttr(obj + '.jointOrientY', rotY)
        pm.setAttr(obj + '.jointOrientZ', rotZ)
        # Set "Rotate" values to 0
        pm.setAttr(obj + '.rotateX', 0)
        pm.setAttr(obj + '.rotateY', 0)
        pm.setAttr(obj + '.rotateZ', 0)
        
        nmbrOfJoints = nmbrOfJoints+1
        
print "Number of joints corrected: ",nmbrOfJoints
